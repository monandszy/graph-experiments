#
# Environment variables loaded by Docker compose and expanded in docker-compose.yaml
#
# Allows to update part of the service configurations. If you need to update other configurations
# that are not present here, you can directly modify the compose YAML
#

# Defines the restart policy for the docker containers.
RESTART_POLICY=always
# Defines how the platform will be accessed externally.
# Needed in order to open GraphDB workbench, Grafana and correctly redirect OTP workbench login.
# Note: If changed, opctl.yaml should be updated as well
DEPLOYMENT_HOST=http://localhost:8000

##########################
# GATEWAY CONFIGURATIONS #
##########################

#
# Kong API gateway
# Refer to https://docs.konghq.com/2.0.x/configuration/
#

# Path to a configuration file for Kong's declarative configuration. Will be mounted in Kong container.
# Tune services and routes according to your needs
KONG_DECLARATIVE_CONFIG_PATH=./.platform/kong.yaml
# Memory cache size configuration for Kong in DB-less mode.
# See https://docs.konghq.com/2.0.x/configuration/#mem_cache_size
KONG_MEM_CACHE_SIZE=64m
# Amount of Nginx worker processes. This affects how much memory will be consumed.
# The auto value will determine the workers based on the available CPUs
KONG_NGINX_WORKER_PROCESSES=auto

############################################
# APOLLO FEDERATION GATEWAY CONFIGURATIONS #
############################################

#
# Configuration used in case the federation is deployed.
#

# The username used by Apollo Gateway for authentication in FusionAuth
# Note: If changed, opctl.yaml should be updated as well
FEDERATION_USERNAME=federation
# The password used by Apollo Gateway for authentication in FusionAuth
# Note: If changed, opctl.yaml should be updated as well
FEDERATION_PASSWORD=federation

###########################
# PLATFORM CONFIGURATIONS #
###########################

# Path to a license file that will be mounted in the SOaaS container.
PLATFORM_LICENSE_PATH=./.platform/platform.license

#
# Semantic objects
# Refer to http://platform.ontotext.com/semantic-objects/semantic-objects.html#configuration
#

# Defines the used mode for querying the underlying GraphDB
SOAAS_QUERY_MODE=subquery
# Feature toggle to enable or disable the GraphQL mutations
SOAAS_MUTATIONS_ENABLED=true
# Defines the query mutation mode
SOAAS_MUTATIONS_MODE=READ_WRITE

#
# GraphDB
# Refer to https://graphdb.ontotext.com/documentation/enterprise/configuring-graphdb.html
#

# Path to a license file that will be mounted in the GraphDB container.
GDB_LICENSE_PATH=./.platform/graphdb.license
# The repository in GraphDB that is used by the semantic objects service and Telegraf plugins
# Note: If changed, opctl.yaml should be updated as well
GDB_REPO=soaas
# Defines the username to use when querying GraphDB
# Note: If changed, opctl.yaml should be updated as well
GDB_USER=admin
# Defines the username' password to use when querying GraphDB
# Note: If changed, opctl.yaml should be updated as well
GDB_PASS=admin123

###########################
# SECURITY CONFIGURATIONS #
###########################

# The secret key with which to sign and vaidate JWT tokens
# Note: If changed, opctl.yaml should be updated as well
SECURITY_SECRET=XXXXXXXX-XXXXXXXX-XXXXXXXX-XXXXXXXX
# Client identifier. This is the application in FusionAuth
# Note: If changed, opctl.yaml should be updated as well
OAUTH_CLIENT_ID=672ca7b3-c372-4df3-82d8-9a1a0d7d68c1
# Tenant identifier. This is the tenant in FusionAuth
# Note: If changed, opctl.yaml should be updated as well
OAUTH_TENANT_ID=7a20300d-ff48-48d8-85d4-c579c99059a2
# Client secret used during authentication code flow
# Note: If changed, opctl.yaml should be updated as well
OAUTH_CLIENT_SECRET=Q0xyxiI1fN1w-Q1yj6nbLpaa-uzWFTxDXapGKGEIKB4

#
# FusionAuth
# Refer to https://fusionauth.io/docs/v1/tech/reference/configuration
#

# Defines how memory should FusionAuth use
FUSION_MEMORY=256M
# Fusion db username in Postgres. Created by Fusion.
FUSION_DB_USERNAME=fusion
# Fusion db password in Postgres. Created by Fusion.
FUSION_DB_PASSWORD=fusion

#
# FusionAuth's PostgreSQL DB
#

# System DB and admin username/password that Postgres will create upon first boot.
FUSION_PG_DATABASE=postgres
FUSION_PG_USERNAME=postgres
FUSION_PG_PASSWORD=postgres

#
# FusionAuth's Elasticsearch
#
FUSION_ES_JAVA_OPTS=-Xms256m -Xmx256m

#############################
# MONITORING CONFIGURATIONS #
#############################

#
# Grafana configurations
# Refer to https://grafana.com/docs/grafana/latest/installation/configuration/
#

# Define any other plugins that you may need.
# See https://grafana.com/docs/grafana/latest/plugins/installation/
GF_INSTALL_PLUGINS=
# Admin username that will be created upon first initialization
GF_SECURITY_ADMIN_USER=admin
# Default admin user password. WIll be prompted to change it after login.
GF_SECURITY_ADMIN_PASSWORD=admin

#
# Telegraf configurations
# Refer to https://github.com/influxdata/telegraf/blob/master/docs/CONFIGURATION.md
#

# Path to a Telegraf configuration file. Will be mounted in the Telegraf container.
# Tune input and output plugins according to your needs
TELEGRAF_CONFIG_PATH=./.platform/telegraf.conf
# The username in GraphDB that allows to read metrics
# Note: If changed, opctl.yaml should be updated as well
TELEGRAF_GDB_USER=admin
# Password for the username in GraphDB that allows to read metrics
# Note: If changed, opctl.yaml should be updated as well
TELEGRAF_GDB_PASS=admin123


###############################
# PROVISIONING CONFIGURATIONS #
###############################

# Path to a repo configuration TTL. Used when provisioning GraphDB.
GDB_REPO_TTL_PATH=./.platform/repo-config.ttl

# Path to a SOML schema to be uploaded and bind in the semantic objects service.
SOML_SCHEMA_PATH=./.platform/schema.yaml

# Path to a opctl CLI configuration that configures the security provisioning.
# Refer to http://platform.ontotext.com/deployment/opctl.html
OCPTL_CONFIG_PATH=./.platform/opctl.yaml

